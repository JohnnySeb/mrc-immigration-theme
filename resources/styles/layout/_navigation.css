/* stylelint-disable no-descending-specificity */
.navigation {
  @apply fixed bg-white top-0 left-0 translate-y-0 w-full duration-500 z-[666];

  body:not(.menu-shown) &.hide-nav {
    @apply translate-y-[-125%];
  }

  .nav-wrapper {
    @apply pt-3 lg:pt-6 pb-3 md:pb-0 border-b-2 border-blue-300 duration-300;

    body.scrolled & {
      @apply border-white;
    }
  }

  body.scrolled & {
    @apply drop-shadow-lg;
  }
}

.nav-primary {
  @apply hidden md:block lg:px-10 xl:px-16 2xl:px-24;

  i {
    @apply hidden;
  }

  ul.nav {
    @apply flex justify-between gap-4 pt-6;

    & > li {
      @apply relative;

      & > a {
        @apply block text-xs lg:text-base text-blue-800 font-medium hover:text-blue-600 cursor-pointer pb-3 duration-200;
      }

      &.menu-item-has-children {
        @apply cursor-pointer;

        & > a {
          @apply relative pointer-events-none pr-4 lg:pr-5;

          &::after {
            @apply content-[''] absolute top-[30%] lg:top-[35%] right-0 -translate-y-1/2 w-[10px] lg:w-[12px] h-[5px] lg:h-[7px] duration-200;

            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 6.9'%3E%3Cpath id='Icon_ionic-ios-arrow-down' d='M6,4.8L10.5.3c.3-.3.9-.3,1.2,0,0,0,0,0,0,0,.3.3.3.9,0,1.2l-5.1,5.1c-.3.3-.8.3-1.2,0L.2,1.5c-.3-.3-.3-.9,0-1.2.3-.3.9-.3,1.2,0l4.5,4.5Z' style='fill: %231d4289;'/%3E%3C/svg%3E");
            background-size: contain;
            background-position: center;
            background-repeat: no-repeat;
          }
        }

        & > ul.sub-menu {
          @apply flex flex-col gap-2 absolute top-[80%] left-1/2 translate-y-[20px] -translate-x-1/2 bg-white shadow-lg rounded-[30px] border border-blue-200 p-4 pointer-events-none opacity-0 invisible;

          transition: all 0.3s, visibility 0s 0.3s;

          & > li {
            @apply flex items-center;

            & > a {
              @apply flex w-full items-center gap-3 bg-blue-50 rounded-full whitespace-nowrap pr-6 duration-200;

              span {
                &.icon {
                  @apply relative w-[44px] h-[44px] rounded-full bg-blue-300 duration-300;

                  i {
                    @apply block absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-xl text-blue-800 duration-100;
                  }
                }

                &.text {
                  @apply text-base text-blue-800 font-medium;
                }
              }

              &:hover {
                @apply bg-purple-50;

                span {
                  &.icon {
                    @apply bg-purple-200;

                    i {
                      @apply text-2xl;
                    }
                  }
                }
              }
            }
          }
        }

        &:hover {
          & > a {
            @apply text-blue-600;

            &::after {
              background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 6.9'%3E%3Cpath id='Icon_ionic-ios-arrow-down' d='M6,4.8L10.5.3c.3-.3.9-.3,1.2,0,0,0,0,0,0,0,.3.3.3.9,0,1.2l-5.1,5.1c-.3.3-.8.3-1.2,0L.2,1.5c-.3-.3-.3-.9,0-1.2.3-.3.9-.3,1.2,0l4.5,4.5Z' style='fill: %236475d9;'/%3E%3C/svg%3E");
            }
          }

          & > ul.sub-menu {
            @apply opacity-100 visible translate-y-0 pointer-events-auto;

            transition: all 0.3s, visibility 0s;
          }
        }
      }
    }
  }
}

.nav-mobile {
  @apply block md:hidden fixed top-0 left-0 w-full max-h-[100vh] bg-white pt-[100px] px-4 pb-6 opacity-0 invisible -translate-y-full drop-shadow-lg overflow-auto z-[420];

  transition: all 0.5s, visibility 0s 0.5s;

  i {
    @apply hidden;
  }

  .help-wanted {
    @apply relative h-[54px] bg-blue-100 rounded-full pr-6 mb-6;
  }

  ul.nav {
    @apply flex flex-col gap-5;

    & > li {
      & > a {
        @apply block relative w-full text-sm xs:text-base font-medium;
      }

      &.menu-item-has-children {
        & > a {
          @apply pointer-events-none pr-4;

          &::after {
            @apply content-[''] absolute top-1/2 right-0 -translate-y-1/2 w-[12px] h-[7px] duration-200;

            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 6.9'%3E%3Cpath id='Icon_ionic-ios-arrow-down' d='M6,4.8L10.5.3c.3-.3.9-.3,1.2,0,0,0,0,0,0,0,.3.3.3.9,0,1.2l-5.1,5.1c-.3.3-.8.3-1.2,0L.2,1.5c-.3-.3-.3-.9,0-1.2.3-.3.9-.3,1.2,0l4.5,4.5Z' style='fill: %231d4289;'/%3E%3C/svg%3E");
            background-size: contain;
            background-position: center;
            background-repeat: no-repeat;
          }
        }

        & > ul.sub-menu {
          @apply flex flex-col gap-3 xs:px-4;

          max-height: 0;
          overflow: hidden;
          transition: max-height 0.3s ease-in-out;

          & > li {
            @apply flex items-center first:mt-4;

            & > a {
              @apply flex w-full items-center gap-3 bg-blue-50 rounded-full whitespace-nowrap pr-6 duration-200;

              span {
                &.icon {
                  @apply relative w-[36px] h-[36px] rounded-full bg-blue-300 duration-300;

                  i {
                    @apply block absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-base text-blue-800 duration-100;
                  }
                }

                &.text {
                  @apply text-xs xs:text-sm text-blue-800 font-medium;
                }
              }
            }
          }
        }

        &.active {
          & > a {
            &::after {
              @apply -scale-[1];
            }
          }
        }
      }
    }
  }

  body.menu-shown & {
    @apply opacity-100 visible translate-y-0;

    transition: all 0.5s, visibility 0s;
  }
}

.curtain {
  @apply fixed inset-0 bg-black/30 opacity-0 invisible z-[200];

  transition: opacity 0.5s, visibility 0s 0.5s;

  body.menu-shown & {
    @apply opacity-100 visible;

    transition: opacity 0.5s, visibility 0s;
  }
}